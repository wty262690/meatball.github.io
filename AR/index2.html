<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame AR.js Plane Detection</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <!---<script src="https://rawcdn.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.min.js"></script>--->
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene
      cursor="rayOrigin: mouse"
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false;"
    >
      <!-- 光照 -->
      <!--<a-light type="ambient" intensity="1"></a-light>
      <a-light type="directional" intensity="0.6" position="0 1 0"></a-light>
      -->
      <!-- 点击时生成的3D对象 -->
      <a-entity id="object-container"></a-entity>

      <!-- 用于检测用户点击的虚拟平面 -->
      <a-entity id="click-plane"  cursor="fuse: true; fuseTimeout: 500" geometry="primitive: plane; width: 1000; height: 1000;" material="opacity: 1;" position="0 0 0" rotation="-90 0 0"></a-entity>

      <!-- 摄像头配置 -->
      <a-entity camera position="0 0 0" look-controls><a-cursor color="black" position="0 0 -1"></a-cursor></a-entity>
    </a-scene>

    <!---<script>
      document.querySelector('#click-plane').addEventListener('click', function (event) {
        // 获取点击位置
        console.log("click!!!")
        const intersectedPoint = event.detail.intersection.point;
        
        // 创建并添加3D对象
        const newObject = document.createElement('a-box');
        newObject.setAttribute('position', intersectedPoint);
        newObject.setAttribute('scale', '0.1 0.1 0.1');
        newObject.setAttribute('color', '#4CC3D9');
        
        document.querySelector('#object-container').appendChild(newObject);
      });
    </script>--->
  </body>
</html>